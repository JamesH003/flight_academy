{% load static %}

<!doctype html>
<html lang="en">
  <head>

    {% block meta %}
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    {% endblock %}

    {% block extra_meta %}
    {% endblock %}
   
    {% block corecss %}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="{% static 'css/base.css' %}">
    {% endblock %}

    {% block extra_css %}
    {% endblock %}
    
    {% block corejs %}
        <script src="https://kit.fontawesome.com/d5aef57d52.js" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
        <!-- Stripe -->
        <script src="https://js.stripe.com/v3/"></script>
    {% endblock %}

    {% block extra_js %}
    {% endblock %}
  
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
    -->

    <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="{% static 'images/flight-academy-favicon.png' %}">

<body>

	<header class="container-fluid bg-navy">
		<div id="topnav" class="row bg-navy justify-content-between">
			<!-- logo -->
			<div class="col-4 order-0 text-center text-lg-left my-auto">
				<a href="{% url 'home' %}" class="nav-link main-logo-link">
					<h1 class="logo-font text-white my-0">
						<strong class="d-flex flex-row">
							<span class="d-none d-sm-flex">F</span><span class="d-none d-md-flex">light</span>
							<span class="d-none d-sm-flex">A</span><span class="d-none d-md-flex">cademy</span>
							<i class="fas fa-plane text-red"></i>
						</strong>
					</h1>
				</a>
			</div>

			<div class="d-flex justify-content-around my-auto">
				<nav class="navbar navbar-expand-lg navbar-dark bg-navy">
					<button class="navbar-toggler mr-3" type="button" data-toggle="collapse" data-target="#main-nav"
						aria-controls="main-nav" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="d-none d-lg-flex">
						{% include 'includes/main-nav.html' %}
					</div>

					<div class="d-none d-md-flex flex-row col w-100 my-auto border-left">
							<!-- account/login -->
							<div class="dropdown">
								<a class="text-white nav-link" href="#" id="user-options" data-toggle="dropdown"
									aria-haspopup="true" aria-expanded="false">
									<div class="text-center">
										<div><i class="fas fa-user fa-lg"></i></div>
										<p class="my-0">Account</p>
									</div>
								</a>
								<div class="dropdown-menu" aria-labelledby="user-options">
									{% if request.user.is_authenticated %}
									<a href="{% url 'user_profile' %}" class="dropdown-item">Profile</a>
									<a href="{% url 'account_logout' %}" class="dropdown-item">Logout</a>
									{% else %}
									<a href="{% url 'account_signup' %}" class="dropdown-item">Register</a>
									<a href="{% url 'account_login' %}" class="dropdown-item">Login</a>
									{% endif %}
								</div>
							</div>
		
							<!-- shopping-bag -->
							<div>
								<a class="{% if grand_total %}text-info font-weight-bold{% else %}text-white{% endif %} nav-link"
									href="{% url 'view_shopping_bag' %}">
									<div class="text-center">
										<div><i class="fas fa-shopping-bag fa-lg"></i></div>
										<p class="my-0">
											{% if grand_total %}
											€{{ grand_total|floatformat:2 }}
											{% else %}
											€0.00
											{% endif %}
										</p>
									</div>
								</a>
							</div>
					</div>
				</nav>
			</div>
		</div>
		
		<!-- collapsible navbar dropdown -->
		<div class="d-flex d-lg-none">
			{% include 'includes/main-nav.html' %}
		</div>
	</header>

	{% if messages %}
		<div class="message-container d-xs-block">
			{% for message in messages %}
				{% with message.level as level %}
					{% if level == 40 %}
						{% include 'includes/toasts/toast_error.html' %}
					{% elif level == 30 %}
						{% include 'includes/toasts/toast_warning.html' %}
					{% elif level == 25 %}
						{% include 'includes/toasts/toast_success.html' %}
					{% else %}
						{% include 'includes/toasts/toast_info.html' %}
					{% endif %}
				{% endwith %}
			{% endfor %}
		</div>
	{% endif %}

	<main class="container-fluid">
		{% block content %}
		{% endblock %}
	</main>

    <footer class="footer container-fluid">
      <div class="row bg-navy">
        <div class="col-12">
          <p class="text-white text-center">This is the footer content.</p>
        </div>
      </div>
    </footer>
    

    {% block postloadjs %}
        <script type="text/javascript">
          $('.toast').toast('show');
        </script>
    {% endblock %}
  </body>
</html>